<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–¢—Ä–µ–∫–µ—Ä –ø–∏—Ç–∞–Ω–∏—è</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --tg-theme-bg-color: #ffffff;
            --tg-theme-text-color: #222222;
            --tg-theme-button-color: #4d6073;
            --tg-theme-button-text-color: #ffffff;
        }
        
        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
            margin: 0;
            background-color: var(--tg-theme-bg-color, #f5f5f5);
            color: var(--tg-theme-text-color, #222222);
            font-family: 'Manrope', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            overflow-y: auto;
        }

        .content-container {
            flex-grow: 1;
            padding-bottom: 70px; /* –î–ª—è –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
            overflow-y: auto;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #ffffff;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 0;
            color: #6c757d;
            text-decoration: none;
            font-size: 12px;
            transition: color 0.3s;
        }

        .nav-item.active {
            color: var(--tg-theme-button-color, #4d6073);
            font-weight: 600;
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        .section {
            display: none;
            padding: 20px;
        }

        .section.active {
            display: block;
        }

        .page-title {
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--tg-theme-text-color, #333);
        }

        .card {
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 16px;
            border: none;
        }

        .card-header {
            background-color: #f8f9fa;
            border-bottom: 1px solid #eee;
            font-weight: 600;
            border-radius: 12px 12px 0 0 !important;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å–µ–∫—Ü–∏–π */
        .empty-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            text-align: center;
            color: #6c757d;
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
            color: #dee2e6;
        }
        
        .btn-primary {
            background-color: var(--tg-theme-button-color, #4d6073);
            border-color: var(--tg-theme-button-color, #4d6073);
            color: var(--tg-theme-button-text-color, #ffffff);
        }
        
        .btn-outline-primary {
            color: var(--tg-theme-button-color, #4d6073);
            border-color: var(--tg-theme-button-color, #4d6073);
        }
        
        .btn-outline-primary:hover {
            background-color: var(--tg-theme-button-color, #4d6073);
            color: var(--tg-theme-button-text-color, #ffffff);
        }
        
        .badge.bg-primary {
            background-color: var(--tg-theme-button-color, #4d6073) !important;
        }

        .loading-spinner {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 0;
        }

        .error-message {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="content-container">
        <!-- –°–µ–∫—Ü–∏—è –î–Ω–µ–≤–Ω–∏–∫ -->
        <div id="diary-section" class="section active">
            <h2 class="page-title">üìò –î–Ω–µ–≤–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è</h2>
            <div id="diary-content">
                <div class="loading-spinner">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                    <p class="mt-2">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–Ω–µ–≤–Ω–∏–∫–∞...</p>
                </div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div id="stats-section" class="section">
            <h2 class="page-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div id="stats-content">
                <div class="loading-spinner">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                    <p class="mt-2">–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>
                </div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –†–µ—Ü–µ–ø—Ç—ã -->
        <div id="recipes-section" class="section">
            <h2 class="page-title">ü•ó –†–µ—Ü–µ–ø—Ç—ã</h2>
            <div id="recipes-content">
                <div class="loading-spinner">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                    <p class="mt-2">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤...</p>
                </div>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –í–µ—Å (–ø—É—Å—Ç–∞—è) -->
        <div id="weight-section" class="section">
            <h2 class="page-title">‚öñÔ∏è –í–µ—Å</h2>
            <div class="empty-section">
                <div class="empty-icon">
                    <i class="fas fa-weight"></i>
                </div>
                <h4>–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h4>
                <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–º –≤–µ—Å–µ –∏ –µ–≥–æ –¥–∏–Ω–∞–º–∏–∫–µ.</p>
            </div>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –ü—Ä–æ—Ñ–∏–ª—å (–ø—É—Å—Ç–∞—è) -->
        <div id="profile-section" class="section">
            <h2 class="page-title">üë§ –ü—Ä–æ—Ñ–∏–ª—å</h2>
            <div class="empty-section">
                <div class="empty-icon">
                    <i class="fas fa-user-circle"></i>
                </div>
                <h4>–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h4>
                <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–º –ø—Ä–æ—Ñ–∏–ª–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.</p>
            </div>
        </div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <nav class="bottom-nav">
        <div class="container">
            <div class="row text-center">
                <div class="col">
                    <a href="#diary" class="nav-item active" data-section="diary-section">
                        <div class="nav-icon">üìò</div>
                        <span>–î–Ω–µ–≤–Ω–∏–∫</span>
                    </a>
                </div>
                <div class="col">
                    <a href="#stats" class="nav-item" data-section="stats-section">
                        <div class="nav-icon">üìä</div>
                        <span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                    </a>
                </div>
                <div class="col">
                    <a href="#recipes" class="nav-item" data-section="recipes-section">
                        <div class="nav-icon">ü•ó</div>
                        <span>–†–µ—Ü–µ–ø—Ç—ã</span>
                    </a>
                </div>
                <div class="col">
                    <a href="#weight" class="nav-item" data-section="weight-section">
                        <div class="nav-icon">‚öñÔ∏è</div>
                        <span>–í–µ—Å</span>
                    </a>
                </div>
                <div class="col">
                    <a href="#profile" class="nav-item" data-section="profile-section">
                        <div class="nav-icon">üë§</div>
                        <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        /**
         * –ö–ª–∏–µ–Ω—Ç API –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±—ç–∫–µ–Ω–¥–æ–º Telegram –±–æ—Ç–∞
         */
        class TelegramBotApiClient {
            constructor(apiBaseUrl) {
                this.apiBaseUrl = apiBaseUrl || 'http://localhost:8000/api';
                this.apiKey = 'test_api_key'; // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º
            }

            /**
             * –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–Ω–µ–≤–Ω–∏–∫–∞ –ø–∏—Ç–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
             * @param {string} userId - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
             * @returns {Promise<Object>} - –î–∞–Ω–Ω—ã–µ –¥–Ω–µ–≤–Ω–∏–∫–∞ –ø–∏—Ç–∞–Ω–∏—è
             */
            async getDiary(userId) {
                try {
                    const response = await this._fetchWithAuth(`${this.apiBaseUrl}/diary/${userId}`);
                    return response.data;
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–Ω–µ–≤–Ω–∏–∫–∞:', error);
                    throw error;
                }
            }

            /**
             * –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
             * @param {string} userId - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
             * @returns {Promise<Object>} - –î–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
             */
            async getStats(userId) {
                try {
                    const response = await this._fetchWithAuth(`${this.apiBaseUrl}/stats/${userId}`);
                    return response.data;
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
                    throw error;
                }
            }

            /**
             * –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
             * @param {string} userId - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
             * @returns {Promise<Object>} - –î–∞–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤
             */
            async getRecipes(userId) {
                try {
                    const response = await this._fetchWithAuth(`${this.apiBaseUrl}/recipes/${userId}`);
                    return response.data;
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤:', error);
                    throw error;
                }
            }

            /**
             * –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏
             * @param {Object} mealData - –î–∞–Ω–Ω—ã–µ –æ –ø—Ä–∏–µ–º–µ –ø–∏—â–∏
             * @returns {Promise<Object>} - –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏
             */
            async addMeal(mealData) {
                try {
                    const response = await this._fetchWithAuth(`${this.apiBaseUrl}/meal`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(mealData)
                    });
                    return response;
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏:', error);
                    throw error;
                }
            }

            /**
             * –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
             * @param {string} url - URL –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞
             * @param {Object} options - –û–ø—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞
             * @returns {Promise<Object>} - –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
             * @private
             */
            async _fetchWithAuth(url, options = {}) {
                const headers = {
                    'X-API-Key': this.apiKey,
                    ...(options.headers || {})
                };

                const response = await fetch(url, {
                    ...options,
                    headers
                });

                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`API –∑–∞–ø—Ä–æ—Å –Ω–µ —É–¥–∞–ª—Å—è: ${response.status} ${response.statusText} - ${errorText}`);
                }

                return await response.json();
            }
        }

        // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–∞
            const apiClient = new TelegramBotApiClient();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
            initTelegramWebApp();
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
            loadAllData();
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            const navItems = document.querySelectorAll('.nav-item');
            const sections = document.querySelectorAll('.section');

            navItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
                    navItems.forEach(navItem => navItem.classList.remove('active'));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Ç–µ–∫—É—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
                    this.classList.add('active');
                    
                    // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
                    sections.forEach(section => section.classList.remove('active'));
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é —Å–µ–∫—Ü–∏—é
                    const sectionId = this.getAttribute('data-section');
                    document.getElementById(sectionId).classList.add('active');
                    
                    // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–≤–µ—Ä—Ö
                    window.scrollTo(0, 0);
                });
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏—ë–º –ø–∏—â–∏"
            document.addEventListener('click', function(e) {
                if (e.target.closest('#addMealBtn')) {
                    sendDataToBot({
                        action: 'add_meal',
                        timestamp: new Date().toISOString()
                    });
                }
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–ü–æ–¥—Ä–æ–±–Ω–µ–µ" –≤ —Ä–µ—Ü–µ–ø—Ç–∞—Ö
            document.addEventListener('click', function(e) {
                if (e.target.closest('.recipe-details-btn')) {
                    const recipeCard = e.target.closest('.card');
                    const recipeTitle = recipeCard.querySelector('.card-title').textContent;
                    
                    sendDataToBot({
                        action: 'get_recipe_details',
                        recipe: recipeTitle
                    });
                }
            });
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
        async function loadAllData() {
            const userId = getUserId();
            
            if (!userId) {
                showError('diary-content', '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram.');
                showError('stats-content', '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram.');
                showError('recipes-content', '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram.');
                return;
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
            loadDiaryData(userId);
            loadStatsData(userId);
            loadRecipesData(userId);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram WebApp
        function getUserId() {
            if (window.Telegram && window.Telegram.WebApp && window.Telegram.WebApp.initDataUnsafe && window.Telegram.WebApp.initDataUnsafe.user) {
                return window.Telegram.WebApp.initDataUnsafe.user.id.toString();
            }
            
            // –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–Ω–µ Telegram
            return localStorage.getItem('testUserId') || '123456789';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–Ω–µ–≤–Ω–∏–∫–∞
        async function loadDiaryData(userId) {
            const diaryContent = document.getElementById('diary-content');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ API
                // const apiClient = new TelegramBotApiClient();
                // const diaryData = await apiClient.getDiary(userId);
                
                // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                const diaryData = getDemoData('diary');
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–Ω–µ–≤–Ω–∏–∫–∞
                renderDiaryData(diaryData);
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –¥–Ω–µ–≤–Ω–∏–∫–∞:', error);
                showError('diary-content', '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–Ω–µ–≤–Ω–∏–∫–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        async function loadStatsData(userId) {
            const statsContent = document.getElementById('stats-content');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ API
                // const apiClient = new TelegramBotApiClient();
                // const statsData = await apiClient.getStats(userId);
                
                // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                const statsData = getDemoData('stats');
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
                renderStatsData(statsData);
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
                showError('stats-content', '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤
        async function loadRecipesData(userId) {
            const recipesContent = document.getElementById('recipes-content');
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –≤—ã–∑–æ–≤ API
                // const apiClient = new TelegramBotApiClient();
                // const recipesData = await apiClient.getRecipes(userId);
                
                // –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                const recipesData = getDemoData('recipes');
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤
                renderRecipesData(recipesData);
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤:', error);
                showError('recipes-content', '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç–æ–≤. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–Ω–µ–≤–Ω–∏–∫–∞
        function renderDiaryData(data) {
            const diaryContent = document.getElementById('diary-content');
            
            let html = '<div class="container">';
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–Ω–∏
            data.days.forEach(day => {
                html += `
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>${day.date}</span>
                        <span class="badge bg-primary">${day.total_calories} –∫–∫–∞–ª</span>
                    </div>
                    <div class="card-body">
                `;
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ø—Ä–∏–µ–º—ã –ø–∏—â–∏
                day.meals.forEach((meal, index) => {
                    const isLast = index === day.meals.length - 1;
                    
                    html += `
                    <div class="meal-item ${isLast ? '' : 'mb-3 pb-3 border-bottom'}">
                        <div class="d-flex justify-content-between align-items-start">
                            <div>
                                <h5 class="mb-1">${meal.name}</h5>
                                <p class="text-muted small mb-0">${meal.time}</p>
                            </div>
                            <span class="badge bg-light text-dark">${meal.calories} –∫–∫–∞–ª</span>
                        </div>
                        <div class="mt-2">
                    `;
                    
                    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –ø—Ä–æ–¥—É–∫—Ç—ã
                    meal.items.forEach((item, itemIndex) => {
                        const isLastItem = itemIndex === meal.items.length - 1;
                        
                        html += `
                        <div class="d-flex justify-content-between ${isLastItem ? '' : 'mb-1'}">
                            <span>${item.name}</span>
                            <span class="text-muted">${item.calories} –∫–∫–∞–ª</span>
                        </div>
                        `;
                    });
                    
                    html += `
                        </div>
                    </div>
                    `;
                });
                
                html += `
                    </div>
                </div>
                `;
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏
            html += `
            <div class="d-grid gap-2">
                <button class="btn btn-primary mb-4" type="button" id="addMealBtn">
                    <i class="fas fa-plus-circle me-2"></i>–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏—ë–º –ø–∏—â–∏
                </button>
            </div>
            `;
            
            html += '</div>';
            
            diaryContent.innerHTML = html;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function renderStatsData(data) {
            const statsContent = document.getElementById('stats-content');
            
            let html = `
            <div class="container">
                <!-- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h5>
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-6">
                                <div class="p-3 border rounded text-center">
                                    <h3 class="mb-1">${data.general.avg_calories}</h3>
                                    <p class="text-muted mb-0">–°—Ä–µ–¥–Ω–∏–µ –∫–∫–∞–ª/–¥–µ–Ω—å</p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="p-3 border rounded text-center">
                                    <h3 class="mb-1">${data.general.days_tracked}</h3>
                                    <p class="text-muted mb-0">–î–Ω–µ–π –≤ —Ç—Ä–µ–∫–µ—Ä–µ</p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="p-3 border rounded text-center">
                                    <h3 class="mb-1">${data.general.adherence_percent}%</h3>
                                    <p class="text-muted mb-0">–°–æ–±–ª—é–¥–µ–Ω–∏–µ –Ω–æ—Ä–º—ã</p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="p-3 border rounded text-center">
                                    <h3 class="mb-1">${data.general.weight_change > 0 ? '+' : ''}${data.general.weight_change} –∫–≥</h3>
                                    <p class="text-muted mb-0">–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–µ—Å–∞</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ë–ñ–£ -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ë–ñ–£</h5>
                    </div>
                    <div class="card-body">
                        <div class="row g-2 mt-3">
                            <div class="col-4">
                                <div class="p-2 border rounded text-center">
                                    <h5 class="mb-0">${data.nutrition_distribution.protein}%</h5>
                                    <small class="text-muted">–ë–µ–ª–∫–∏</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="p-2 border rounded text-center">
                                    <h5 class="mb-0">${data.nutrition_distribution.fat}%</h5>
                                    <small class="text-muted">–ñ–∏—Ä—ã</small>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="p-2 border rounded text-center">
                                    <h5 class="mb-0">${data.nutrition_distribution.carb}%</h5>
                                    <small class="text-muted">–£–≥–ª–µ–≤–æ–¥—ã</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –¢–æ–ø –ø—Ä–æ–¥—É–∫—Ç–æ–≤ -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">–ß–∞—Å—Ç–æ —É–ø–æ—Ç—Ä–µ–±–ª—è–µ–º—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
            `;
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–ø –ø—Ä–æ–¥—É–∫—Ç–æ–≤
            data.top_products.forEach(product => {
                html += `
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span>${product.name}</span>
                    <span class="badge bg-primary rounded-pill">${product.count} —Ä–∞–∑</span>
                </li>
                `;
            });
            
            html += `
                        </ul>
                    </div>
                </div>
            </div>
            `;
            
            statsContent.innerHTML = html;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤
        function renderRecipesData(data) {
            const recipesContent = document.getElementById('recipes-content');
            
            let html = `
            <div class="container">
                <!-- –ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ -->
                <div class="mb-4">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤...">
                        <button class="btn btn-primary" type="button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                
                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ -->
                <div class="mb-4 pb-2 border-bottom">
                    <div class="d-flex flex-nowrap overflow-auto pb-2" style="gap: 10px;">
            `;
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            data.categories.forEach((category, index) => {
                html += `
                <button class="btn btn-sm ${index === 0 ? 'btn-primary' : 'btn-outline-primary'}">${category}</button>
                `;
            });
            
            html += `
                    </div>
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ -->
                <div class="row g-3">
            `;
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ—Ü–µ–ø—Ç—ã
            data.recipes.forEach(recipe => {
                html += `
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">${recipe.title}</h5>
                            <div class="d-flex mb-2">
                                <span class="badge bg-light text-dark me-2">${recipe.category}</span>
                                <span class="badge bg-light text-dark me-2">${recipe.prep_time}</span>
                                <span class="badge bg-light text-dark">${recipe.calories} –∫–∫–∞–ª</span>
                            </div>
                            <p class="card-text">${recipe.description}</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <small class="text-muted">
                                        <i class="fas fa-fire me-1"></i>${recipe.calories} –∫–∫–∞–ª
                                    </small>
                                    <small class="text-muted ms-3">
                                        <i class="fas fa-utensils me-1"></i>${recipe.portions} –ø–æ—Ä—Ü–∏—è
                                    </small>
                                </div>
                                <button class="btn btn-sm btn-outline-primary recipe-details-btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            });
            
            html += `
                </div>
            </div>
            `;
            
            recipesContent.innerHTML = html;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
        function showError(containerId, message) {
            const container = document.getElementById(containerId);
            container.innerHTML = `
            <div class="error-message">
                <i class="fas fa-exclamation-triangle me-2"></i>
                ${message}
            </div>
            `;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Telegram WebApp
        function initTelegramWebApp() {
            if (window.Telegram && window.Telegram.WebApp) {
                const tg = window.Telegram.WebApp;
                
                // –†–∞—Å—à–∏—Ä—è–µ–º WebApp –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
                tg.expand();
                
                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const user = tg.initDataUnsafe?.user;
                if (user) {
                    console.log('Telegram user:', user);
                    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
                    localStorage.setItem('telegramUser', JSON.stringify(user));
                }
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã –∏–∑ Telegram
                document.documentElement.style.setProperty('--tg-theme-bg-color', tg.backgroundColor || '#ffffff');
                document.documentElement.style.setProperty('--tg-theme-text-color', tg.textColor || '#222222');
                document.documentElement.style.setProperty('--tg-theme-button-color', tg.buttonColor || '#4d6073');
                document.documentElement.style.setProperty('--tg-theme-button-text-color', tg.buttonTextColor || '#ffffff');
                
                // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
                tg.BackButton.onClick(() => {
                    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –∞–∫—Ç–∏–≤–Ω—É—é —Å–µ–∫—Ü–∏—é
                    const activeSection = document.querySelector('.section.active');
                    const activeSectionId = activeSection.id;
                    
                    // –ï—Å–ª–∏ –º—ã –Ω–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–¥–Ω–µ–≤–Ω–∏–∫), –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –Ω–µ–π
                    if (activeSectionId !== 'diary-section') {
                        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
                        document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–Ω–µ–≤–Ω–∏–∫
                        document.getElementById('diary-section').classList.add('active');
                        
                        // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
                        document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
                        document.querySelector('[data-section="diary-section"]').classList.add('active');
                        
                        // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
                        tg.BackButton.hide();
                    }
                });
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å —É—á–µ—Ç–æ–º –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥"
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.addEventListener('click', function() {
                        const sectionId = this.getAttribute('data-section');
                        
                        // –ï—Å–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, –æ—Ç–ª–∏—á–Ω—É—é –æ—Ç –¥–Ω–µ–≤–Ω–∏–∫–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥"
                        if (sectionId !== 'diary-section') {
                            tg.BackButton.show();
                        } else {
                            tg.BackButton.hide();
                        }
                    });
                });
            } else {
                console.log('Telegram WebApp API –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
                // –ï—Å–ª–∏ API –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–ª—É—à–∫—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
                document.body.insertAdjacentHTML('afterbegin', 
                    '<div class="alert alert-warning m-2" role="alert">' +
                    '–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –≤–Ω–µ Telegram. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã.' +
                    '</div>'
                );
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç
        function sendDataToBot(data) {
            if (window.Telegram && window.Telegram.WebApp) {
                window.Telegram.WebApp.sendData(JSON.stringify(data));
            } else {
                console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–æ—Ç:', data);
                alert('–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –±–æ—Ç: ' + JSON.stringify(data));
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã—Ö
        function getDemoData(type) {
            switch (type) {
                case 'diary':
                    return {
                        days: [
                            {
                                date: "–°–µ–≥–æ–¥–Ω—è",
                                total_calories: 1850,
                                meals: [
                                    {
                                        time: "08:30",
                                        name: "–ó–∞–≤—Ç—Ä–∞–∫",
                                        calories: 450,
                                        items: [
                                            {name: "–û–≤—Å—è–Ω–∫–∞ –Ω–∞ –º–æ–ª–æ–∫–µ", calories: 250},
                                            {name: "–ë–∞–Ω–∞–Ω", calories: 105},
                                            {name: "–ö–æ—Ñ–µ —Å –º–æ–ª–æ–∫–æ–º", calories: 95}
                                        ]
                                    },
                                    {
                                        time: "13:15",
                                        name: "–û–±–µ–¥",
                                        calories: 680,
                                        items: [
                                            {name: "–ö—É—Ä–∏–Ω—ã–π —Å—É–ø —Å –≤–µ—Ä–º–∏—à–µ–ª—å—é", calories: 320},
                                            {name: "–ì—Ä–µ—á–∫–∞ —Å –∫—É—Ä–∏—Ü–µ–π", calories: 310},
                                            {name: "–°–∞–ª–∞—Ç –∏–∑ —Å–≤–µ–∂–∏—Ö –æ–≤–æ—â–µ–π", calories: 50}
                                        ]
                                    },
                                    {
                                        time: "19:00",
                                        name: "–£–∂–∏–Ω",
                                        calories: 720,
                                        items: [
                                            {name: "–ó–∞–ø–µ—á–µ–Ω–Ω–∞—è —Ä—ã–±–∞", calories: 350},
                                            {name: "–†–∏—Å", calories: 200},
                                            {name: "–û–≤–æ—â–∏ –Ω–∞ –ø–∞—Ä—É", calories: 120},
                                            {name: "–ß–∞–π —Å –º–µ–¥–æ–º", calories: 50}
                                        ]
                                    }
                                ]
                            },
                            {
                                date: "–í—á–µ—Ä–∞",
                                total_calories: 1720,
                                meals: [
                                    {
                                        time: "09:00",
                                        name: "–ó–∞–≤—Ç—Ä–∞–∫",
                                        calories: 420,
                                        items: [
                                            {name: "–¢–≤–æ—Ä–æ–≥ —Å —è–≥–æ–¥–∞–º–∏", calories: 280},
                                            {name: "–ó–µ–ª–µ–Ω—ã–π —á–∞–π", calories: 140}
                                        ]
                                    },
                                    {
                                        time: "14:00",
                                        name: "–û–±–µ–¥",
                                        calories: 650,
                                        items: [
                                            {name: "–ë–æ—Ä—â", calories: 300},
                                            {name: "–ö–æ—Ç–ª–µ—Ç–∞ —Å –ø—é—Ä–µ", calories: 350}
                                        ]
                                    },
                                    {
                                        time: "18:30",
                                        name: "–£–∂–∏–Ω",
                                        calories: 650,
                                        items: [
                                            {name: "–¢—É—à–µ–Ω–∞—è –∫–∞–ø—É—Å—Ç–∞ —Å –º—è—Å–æ–º", calories: 450},
                                            {name: "–ö–µ—Ñ–∏—Ä", calories: 200}
                                        ]
                                    }
                                ]
                            }
                        ],
                        user_targets: {
                            calories: 2000,
                            protein: 100,
                            fat: 67,
                            carb: 250,
                            fiber: 25
                        }
                    };
                case 'stats':
                    return {
                        general: {
                            avg_calories: 1820,
                            days_tracked: 14,
                            adherence_percent: 82,
                            weight_change: -1.5
                        },
                        nutrition_distribution: {
                            protein: 25,
                            fat: 30,
                            carb: 45
                        },
                        top_products: [
                            {name: "–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞", count: 12},
                            {name: "–ì—Ä–µ—á–∫–∞", count: 9},
                            {name: "–¢–≤–æ—Ä–æ–≥", count: 8},
                            {name: "–Ø–±–ª–æ–∫–∏", count: 7},
                            {name: "–û–≤—Å—è–Ω–∫–∞", count: 6}
                        ],
                        user_targets: {
                            calories: 2000,
                            protein: 100,
                            fat: 67,
                            carb: 250,
                            fiber: 25
                        }
                    };
                case 'recipes':
                    return {
                        categories: ["–í—Å–µ", "–ó–∞–≤—Ç—Ä–∞–∫–∏", "–û–±–µ–¥—ã", "–£–∂–∏–Ω—ã", "–°–∞–ª–∞—Ç—ã", "–î–µ—Å–µ—Ä—Ç—ã"],
                        recipes: [
                            {
                                title: "–û–≤—Å—è–Ω–∫–∞ —Å —Ñ—Ä—É–∫—Ç–∞–º–∏",
                                category: "–ó–∞–≤—Ç—Ä–∞–∫",
                                prep_time: "15 –º–∏–Ω",
                                calories: 320,
                                description: "–ü–∏—Ç–∞—Ç–µ–ª—å–Ω–∞—è –æ–≤—Å—è–Ω–∫–∞ —Å —è–±–ª–æ–∫–∞–º–∏, –±–∞–Ω–∞–Ω–æ–º –∏ –∫–æ—Ä–∏—Ü–µ–π. –ò–¥–µ–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –∑–¥–æ—Ä–æ–≤–æ–≥–æ –∑–∞–≤—Ç—Ä–∞–∫–∞.",
                                portions: 1,
                                nutrition: {
                                    calories: 320,
                                    protein: 10,
                                    fat: 5,
                                    carb: 60,
                                    fiber: 8
                                }
                            },
                            {
                                title: "–ì—Ä–µ—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç",
                                category: "–°–∞–ª–∞—Ç",
                                prep_time: "20 –º–∏–Ω",
                                calories: 250,
                                description: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≥—Ä–µ—á–µ—Å–∫–∏–π —Å–∞–ª–∞—Ç —Å –æ–≥—É—Ä—Ü–∞–º–∏, –ø–æ–º–∏–¥–æ—Ä–∞–º–∏, –æ–ª–∏–≤–∫–∞–º–∏, —Å—ã—Ä–æ–º —Ñ–µ—Ç–∞ –∏ –æ–ª–∏–≤–∫–æ–≤—ã–º –º–∞—Å–ª–æ–º.",
                                portions: 2,
                                nutrition: {
                                    calories: 250,
                                    protein: 8,
                                    fat: 20,
                                    carb: 12,
                                    fiber: 4
                                }
                            },
                            {
                                title: "–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ —Å –æ–≤–æ—â–∞–º–∏",
                                category: "–û–±–µ–¥",
                                prep_time: "40 –º–∏–Ω",
                                calories: 380,
                                description: "–°–æ—á–Ω–∞—è –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, –∑–∞–ø–µ—á–µ–Ω–Ω–∞—è —Å —Å–µ–∑–æ–Ω–Ω—ã–º–∏ –æ–≤–æ—â–∞–º–∏. –ë–æ–≥–∞—Ç—ã–π –±–µ–ª–∫–æ–º –∏ –Ω–∏–∑–∫–æ–∫–∞–ª–æ—Ä–∏–π–Ω—ã–π –æ–±–µ–¥.",
                                portions: 2,
                                nutrition: {
                                    calories: 380,
                                    protein: 35,
                                    fat: 12,
                                    carb: 30,
                                    fiber: 6
                                }
                            }
                        ]
                    };
                default:
                    return {};
            }
        }
    </script>
</body>
</html>
